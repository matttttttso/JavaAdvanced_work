12-7 課題1
本課題は「データベースアクセス」についての課題です。
「データベースアクセス」の内容を学習後に、本課題を取り組んでください。

郵便番号及び住所を検索するアプリケーションを作成します。
アプリケーションを起動すると、以下のメニューが表示され
、選択（入力）された文字列（大文字小文字問わない）の処理を実行します。
なお、メニュー以外の文字を入力した場合は、エラーメッセージを表示した後、
再度メニューを表示します。

課題で利用する住所データは下記からダウンロードできます。
住所データ

alt

alt

1．exercisedbデータベースの新規作成
JDBC URLで指定されたデータベースが無い場合は、新規データベースを作成し、
Connectionオブジェクトを取得します。
存在する場合は、該当データベースのConnectionオブジェクトを取得します。

2．郵便番号テーブルの新規作成およびレコードの追加
H2 Databaseで、CSV形式のファイルを元にしてテーブルの作成及びレコードの追加を行います。

【参考】テーブルの新規作成、レコードの追加

コピー
1
2
CREATE TABLE ZIP_CODE AS SELECT * FROM
    CSVREAD(' CSVファイルの保存場所を指定 ')
※CSVファイルの先頭行は列名を定義します。

テーブルの作成、データの追加が完了したらメニュー画面に戻ります。
alt

3．郵便番号テーブルの全件検索
表示件数が多いため、10件ずつの表示とします。
表示結果は「次の10件」や「前の10件」を選択できるようにします。
「N(n)」や「P(p)」「Q(q)」以外の文字が入力された場合は、前と同じ10件を表示します。

alt

alt

alt

4．郵便番号による検索
郵便番号７桁を指定することで検索を実行します。
７桁でない場合はエラーメッセージを表示し、再入力を促します。

alt

alt

5．都道府県名、市区町村名での検索
都道府県名と市区町村名を指定しての検索を行います。
検索結果が10件を超える場合は、全件検索と同様に「次の10件」「前の10件」が選択できるようにします。

alt